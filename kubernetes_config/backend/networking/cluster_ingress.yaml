apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: ingress-service
    annotations:
        kubernetes.io/ingress.class: nginx
spec:
    tls:
      - hosts:
        - shigoto.live
        secretName: shigoto-q-tls
    rules:
      - host: shigoto.live
        http:
            paths:
              - path: /
                pathType: Prefix
                backend:
                  service:
                    name: react
                    port:
                      number: 80
              - path: /api/
                pathType: Prefix
                backend:
                  service:
                    name: django
                    port:
                      number: 5000
              - path: /auth/
                pathType: Prefix
                backend:
                  service:
                    name: django
                    port:
                      number: 5000
              - path: /go/
                pathType: Prefix
                backend:
                  service:
                    name: go
                    port:
                      number: 5050
      - host: ws.shigoto.live
        http:
            paths:
              - path: /status
                pathType: Prefix
                backend:
                  service:
                    name: wss-go
                    port:
                      number: 8080
              - path: /results
                pathType: Prefix
                backend:
                  service:
                    name: wss-go
                    port:
                      number: 8080